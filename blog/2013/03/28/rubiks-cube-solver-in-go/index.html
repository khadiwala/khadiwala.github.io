
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Rubiks Cube Solver in Go - Ramblesaurus</title>
	<meta name="author" content="Ravi Khadiwala">

	
	<meta name="description" content="Rubiks Cube Solver in Go Shut up about Go Despite being a few years after its initial release, I can&#8217;t stop hearing about Go.
I decided to &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Ramblesaurus" type="application/atom+xml">
	
	<link rel="canonical" href="http://mrgrieves.github.com/blog/2013/03/28/rubiks-cube-solver-in-go/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		document.write("<img src='http://www.gravatar.com/avatar/" + MD5("ravi.khadiwala@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;'");
	</script>
</div>
<h1><a href="/">Ramblesaurus</a></h1>
<p class="subtitle">I made a thing</p>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a><li>
  <li><a href="/resume.pdf">Resume</a><li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/105364233255642133210?rel=author" title="Google+">Google+</a>
		
		
		
		<a class="github" href="https://github.com/mrgrieves" title="GitHub">GitHub</a>
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
<hgroup>
  <h1><a href="/">Ramblesaurus</a></h1>
  
    <h2>I made a thing</h2>
  
</hgroup>

</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Rubiks Cube Solver in Go</h1>
	<div class="entry-content" itemprop="articleBody"><h1>Shut up about Go</h1>

<p>Despite being a few years after its initial release, I can&#8217;t stop hearing about Go.
I decided to rework a simple enough algorithm I understood to learn basic Go syntax, and see how it performs in the memory and speed departments.
I implemented Thistlethwaite&#8217;s 4 phase algorithm for solving the Rubik&#8217;s Cube. I drew most of my inspiration from this fairly nice C++ <a href="http://tomas.rokicki.com/cubecontest/stefan1.txt">implementation</a> I found from Stefan Pochmann.</p>

<h1>Thistlethwaite&#8217;s Algorithm</h1>

<p>The basic idea is that the search for a solved cube is broken into four smaller sequential searches. Once in a phase we limit our moves to ensure we don&#8217;t exit this phase. A set of moves that can be applied to a solved cube defines a phase, the 4 phases are nested, the last one being a solved cube.</p>

<p>G<sub> 0 </sub> = &lt; U D L R F B ></p>

<p>G<sub>1</sub> = &lt; U2 D2 L R F B ></p>

<p>G<sub>2</sub> = &lt; U2 D2 L R F2 B2 ></p>

<p>G<sub>3</sub> = &lt; U2 D2 L2 R2 F2 B2 ></p>

<p>G<sub>4</sub> = &lt;></p>

<p>Basically a state is in phase i if, starting at the completed state, you can reach this state only by using moves in G<sub>i</sub>. I used iterative deepening DFS as opposed to BFS to save on memory at the cost of computation, since when I tried to use straight BFS I would run out of ram. At somepoint I may rewrite the cube structure to be easier on memory so I can go back to normal BFS. Another thing I&#8217;d like to do is to find a simpler representation of the cube that a human could input, instead of being forced to also input the orientations of edges and corner, but still be able to determine the phase easily based on this representation. In general the solver takes 30-40 moves to solve a randomly scrambled cube.</p>

<p><a href="http://www.jaapsch.net/puzzles/thistle.htm">Thistlethwaite&#8217;s original description</a></p>

<p><a href="http://www.jaapsch.net/puzzles/compcube.htm#kocal">Kociemba&#8217;s faster two phase algorithm</a></p>

<h1>Thoughts on Go</h1>

<p>Overall Go is without competition the most fun I&#8217;ve had with a &#8220;systems&#8221; programming language. The type inference is awesome, there are some powerful abstractions like slices, and go routines and channels are a killer language feature (which of course I did not use much of here). I think Go also captures what is most useful about object oriented programming with interfaces, without getting bogged down and forcing it on you, although the syntax is not super clear at first. I am sometimes uncomfortable with the occasional abstraction of pointers, like the automatic type conversion when you call a method for a struct its pointer. It only adds confusion, especially because you shouldn&#8217;t be depending on Go for this in most cases. Most of the other things I did not enjoy were nitpicks:</p>

<ul>
<li><p>Compilation errors for unused variables - makes it annoying to debug pieces of code by commenting things out</p></li>
<li><p>Anonymous recursive functions must be preceded by a type definition</p></li>
<li><p>Must include return statements in functions even if unreachable</p></li>
<li><p>Using the value,ok paradigm is nice, but ocassionally being able to return null/nil would make sense</p></li>
</ul>


<p>My only real philisophical complaint revolve around there being a little too much magic to be a low level language, but not enough to prevent you from having to think about internals.</p>
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - Ravi Khadiwala -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'ramblesaurus';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://mrgrieves.github.com/blog/2013/03/28/rubiks-cube-solver-in-go/';
        var disqus_url = 'http://mrgrieves.github.com/blog/2013/03/28/rubiks-cube-solver-in-go/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-39357717-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




		</div>
	</div>
</body>
</html>
